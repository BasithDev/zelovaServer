import{aV as st,aX as lt,r as x,aW as Fe,c9 as Ke,ca as it,by as ct,aH as ut,P as g,j as o,E as he,m as ie,a as dt,bY as ft,B as $,cb as pt,Q as mt,cc as ht,cd as vt,ce as yt,cf as gt}from"./index-CayrqlUJ.js";import{f as bt}from"./index-DDPlpqAo.js";import{S as xt}from"./sweetalert2.esm.all-D3pEHXw3.js";import{l as Ot}from"./cropper-Bkq8wAXt.js";import{u as wt}from"./uploadImageToCloud-BFRfkgxe.js";var Z=function(){return Z=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Z.apply(this,arguments)},Ct=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(r[a[l]]=e[a[l]]);return r},ke=st("MoonLoader","100% {transform: rotate(360deg)}","moon");function _t(e){var t=e.loading,r=t===void 0?!0:t,a=e.color,l=a===void 0?"#000000":a,d=e.speedMultiplier,_=d===void 0?1:d,s=e.cssOverride,N=s===void 0?{}:s,p=e.size,O=p===void 0?60:p,m=Ct(e,["loading","color","speedMultiplier","cssOverride","size"]),y=lt(O),v=y.value,w=y.unit,M=Math.round(v/7),U=Z({display:"inherit",position:"relative",width:"".concat("".concat(v+M*2).concat(w)),height:"".concat("".concat(v+M*2).concat(w)),animation:"".concat(ke," ").concat(.6/_,"s 0s infinite linear"),animationFillMode:"forwards"},N),D=function(F){return{width:Fe(F),height:Fe(F),borderRadius:"100%"}},B=Z(Z({},D(M)),{backgroundColor:"".concat(l),opacity:"0.8",position:"absolute",top:"".concat("".concat(v/2-M/2).concat(w)),animation:"".concat(ke," ").concat(.6/_,"s 0s infinite linear"),animationFillMode:"forwards"}),z=Z(Z({},D(v)),{border:"".concat(M,"px solid ").concat(l),opacity:"0.1",boxSizing:"content-box",position:"absolute"});return r?x.createElement("span",Z({style:U},m),x.createElement("span",{style:B}),x.createElement("span",{style:z})):null}var Pe={exports:{}},se={},Re={exports:{}},W={},Te={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=O;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r="none",a="contents",l=/input|select|textarea|button|object|iframe/;function d(m,y){return y.getPropertyValue("overflow")!=="visible"||m.scrollWidth<=0&&m.scrollHeight<=0}function _(m){var y=m.offsetWidth<=0&&m.offsetHeight<=0;if(y&&!m.innerHTML)return!0;try{var v=window.getComputedStyle(m),w=v.getPropertyValue("display");return y?w!==a&&d(m,v):w===r}catch{return console.warn("Failed to inspect element style"),!1}}function s(m){for(var y=m,v=m.getRootNode&&m.getRootNode();y&&y!==document.body;){if(v&&y===v&&(y=v.host.parentNode),_(y))return!1;y=y.parentNode}return!0}function N(m,y){var v=m.nodeName.toLowerCase(),w=l.test(v)&&!m.disabled||v==="a"&&m.href||y;return w&&s(m)}function p(m){var y=m.getAttribute("tabindex");y===null&&(y=void 0);var v=isNaN(y);return(v||y>=0)&&N(m,!v)}function O(m){var y=[].slice.call(m.querySelectorAll("*"),0).reduce(function(v,w){return v.concat(w.shadowRoot?O(w.shadowRoot):[w])},[]);return y.filter(p)}e.exports=t.default})(Te,Te.exports);var Qe=Te.exports;Object.defineProperty(W,"__esModule",{value:!0});W.resetState=jt;W.log=Mt;W.handleBlur=ge;W.handleFocus=be;W.markForFocusLater=Pt;W.returnFocus=Rt;W.popWithoutFocus=Tt;W.setupScopedFocus=At;W.teardownScopedFocus=Dt;var Nt=Qe,St=Et(Nt);function Et(e){return e&&e.__esModule?e:{default:e}}var ue=[],ce=null,Ae=!1;function jt(){ue=[]}function Mt(){}function ge(){Ae=!0}function be(){if(Ae){if(Ae=!1,!ce)return;setTimeout(function(){if(!ce.contains(document.activeElement)){var e=(0,St.default)(ce)[0]||ce;e.focus()}},0)}}function Pt(){ue.push(document.activeElement)}function Rt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{ue.length!==0&&(t=ue.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function Tt(){ue.length>0&&ue.pop()}function At(e){ce=e,window.addEventListener?(window.addEventListener("blur",ge,!1),document.addEventListener("focus",be,!0)):(window.attachEvent("onBlur",ge),document.attachEvent("onFocus",be))}function Dt(){ce=null,window.addEventListener?(window.removeEventListener("blur",ge),document.removeEventListener("focus",be)):(window.detachEvent("onBlur",ge),document.detachEvent("onFocus",be))}var De={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=_;var r=Qe,a=l(r);function l(s){return s&&s.__esModule?s:{default:s}}function d(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?d(s.activeElement.shadowRoot):s.activeElement}function _(s,N){var p=(0,a.default)(s);if(!p.length){N.preventDefault();return}var O=void 0,m=N.shiftKey,y=p[0],v=p[p.length-1],w=d();if(s===w){if(!m)return;O=v}if(v===w&&!m&&(O=y),y===w&&m&&(O=v),O){N.preventDefault(),O.focus();return}var M=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),U=M!=null&&M[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(U){var D=p.indexOf(w);if(D>-1&&(D+=m?-1:1),O=p[D],typeof O>"u"){N.preventDefault(),O=m?v:y,O.focus();return}N.preventDefault(),O.focus()}}e.exports=t.default})(De,De.exports);var Lt=De.exports,H={},Ut=function(){},Ft=Ut,q={},Ye={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=r:window.ExecutionEnvironment=r})()})(Ye);var kt=Ye.exports;Object.defineProperty(q,"__esModule",{value:!0});q.canUseDOM=q.SafeNodeList=q.SafeHTMLCollection=void 0;var It=kt,qt=Wt(It);function Wt(e){return e&&e.__esModule?e:{default:e}}var Ee=qt.default,Ht=Ee.canUseDOM?window.HTMLElement:{};q.SafeHTMLCollection=Ee.canUseDOM?window.HTMLCollection:{};q.SafeNodeList=Ee.canUseDOM?window.NodeList:{};q.canUseDOM=Ee.canUseDOM;q.default=Ht;Object.defineProperty(H,"__esModule",{value:!0});H.resetState=Kt;H.log=Qt;H.assertNodeList=Xe;H.setElement=Yt;H.validateElement=Le;H.hide=Xt;H.show=Gt;H.documentNotReadyOrSSRTesting=Jt;var $t=Ft,Bt=Vt($t),zt=q;function Vt(e){return e&&e.__esModule?e:{default:e}}var k=null;function Kt(){k&&(k.removeAttribute?k.removeAttribute("aria-hidden"):k.length!=null?k.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(k).forEach(function(e){return e.removeAttribute("aria-hidden")})),k=null}function Qt(){}function Xe(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function Yt(e){var t=e;if(typeof t=="string"&&zt.canUseDOM){var r=document.querySelectorAll(t);Xe(r,t),t=r}return k=t||k,k}function Le(e){var t=e||k;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,Bt.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Xt(e){var t=!0,r=!1,a=void 0;try{for(var l=Le(e)[Symbol.iterator](),d;!(t=(d=l.next()).done);t=!0){var _=d.value;_.setAttribute("aria-hidden","true")}}catch(s){r=!0,a=s}finally{try{!t&&l.return&&l.return()}finally{if(r)throw a}}}function Gt(e){var t=!0,r=!1,a=void 0;try{for(var l=Le(e)[Symbol.iterator](),d;!(t=(d=l.next()).done);t=!0){var _=d.value;_.removeAttribute("aria-hidden")}}catch(s){r=!0,a=s}finally{try{!t&&l.return&&l.return()}finally{if(r)throw a}}}function Jt(){k=null}var de={};Object.defineProperty(de,"__esModule",{value:!0});de.resetState=Zt;de.log=en;var ve={},ye={};function Ie(e,t){e.classList.remove(t)}function Zt(){var e=document.getElementsByTagName("html")[0];for(var t in ve)Ie(e,ve[t]);var r=document.body;for(var a in ye)Ie(r,ye[a]);ve={},ye={}}function en(){}var tn=function(t,r){return t[r]||(t[r]=0),t[r]+=1,r},nn=function(t,r){return t[r]&&(t[r]-=1),r},rn=function(t,r,a){a.forEach(function(l){tn(r,l),t.add(l)})},on=function(t,r,a){a.forEach(function(l){nn(r,l),r[l]===0&&t.remove(l)})};de.add=function(t,r){return rn(t.classList,t.nodeName.toLowerCase()=="html"?ve:ye,r.split(" "))};de.remove=function(t,r){return on(t.classList,t.nodeName.toLowerCase()=="html"?ve:ye,r.split(" "))};var fe={};Object.defineProperty(fe,"__esModule",{value:!0});fe.log=sn;fe.resetState=ln;function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ge=function e(){var t=this;an(this,e),this.register=function(r){t.openInstances.indexOf(r)===-1&&(t.openInstances.push(r),t.emit("register"))},this.deregister=function(r){var a=t.openInstances.indexOf(r);a!==-1&&(t.openInstances.splice(a,1),t.emit("deregister"))},this.subscribe=function(r){t.subscribers.push(r)},this.emit=function(r){t.subscribers.forEach(function(a){return a(r,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},_e=new Ge;function sn(){console.log("portalOpenInstances ----------"),console.log(_e.openInstances.length),_e.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function ln(){_e=new Ge}fe.default=_e;var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.resetState=fn;Ue.log=pn;var cn=fe,un=dn(cn);function dn(e){return e&&e.__esModule?e:{default:e}}var T=void 0,I=void 0,ae=[];function fn(){for(var e=[T,I],t=0;t<e.length;t++){var r=e[t];r&&r.parentNode&&r.parentNode.removeChild(r)}T=I=null,ae=[]}function pn(){console.log("bodyTrap ----------"),console.log(ae.length);for(var e=[T,I],t=0;t<e.length;t++){var r=e[t],a=r||{};console.log(a.nodeName,a.className,a.id)}console.log("edn bodyTrap ----------")}function qe(){ae.length!==0&&ae[ae.length-1].focusContent()}function mn(e,t){!T&&!I&&(T=document.createElement("div"),T.setAttribute("data-react-modal-body-trap",""),T.style.position="absolute",T.style.opacity="0",T.setAttribute("tabindex","0"),T.addEventListener("focus",qe),I=T.cloneNode(),I.addEventListener("focus",qe)),ae=t,ae.length>0?(document.body.firstChild!==T&&document.body.insertBefore(T,document.body.firstChild),document.body.lastChild!==I&&document.body.appendChild(I)):(T.parentElement&&T.parentElement.removeChild(T),I.parentElement&&I.parentElement.removeChild(I))}un.default.subscribe(mn);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(h){for(var u=1;u<arguments.length;u++){var S=arguments[u];for(var n in S)Object.prototype.hasOwnProperty.call(S,n)&&(h[n]=S[n])}return h},a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l=function(){function h(u,S){for(var n=0;n<S.length;n++){var c=S[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,S,n){return S&&h(u.prototype,S),n&&h(u,n),u}}(),d=x,_=Ke,s=Y(_),N=W,p=F(N),O=Lt,m=Y(O),y=H,v=F(y),w=de,M=F(w),U=q,D=Y(U),B=fe,z=Y(B);function F(h){if(h&&h.__esModule)return h;var u={};if(h!=null)for(var S in h)Object.prototype.hasOwnProperty.call(h,S)&&(u[S]=h[S]);return u.default=h,u}function Y(h){return h&&h.__esModule?h:{default:h}}function te(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}function X(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:h}function ne(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)}var C={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},L=function(u){return u.code==="Tab"||u.keyCode===9},G=function(u){return u.code==="Escape"||u.keyCode===27},re=0,V=function(h){ne(u,h);function u(S){te(this,u);var n=X(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,S));return n.setOverlayRef=function(c){n.overlay=c,n.props.overlayRef&&n.props.overlayRef(c)},n.setContentRef=function(c){n.content=c,n.props.contentRef&&n.props.contentRef(c)},n.afterClose=function(){var c=n.props,P=c.appElement,R=c.ariaHideApp,E=c.htmlOpenClassName,K=c.bodyOpenClassName,Q=c.parentSelector,le=Q&&Q().ownerDocument||document;K&&M.remove(le.body,K),E&&M.remove(le.getElementsByTagName("html")[0],E),R&&re>0&&(re-=1,re===0&&v.show(P)),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(p.returnFocus(n.props.preventScroll),p.teardownScopedFocus()):p.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),z.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(p.setupScopedFocus(n.node),p.markForFocusLater()),n.setState({isOpen:!0},function(){n.openAnimationFrame=requestAnimationFrame(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var c=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:c},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(c){L(c)&&(0,m.default)(n.content,c),n.props.shouldCloseOnEsc&&G(c)&&(c.stopPropagation(),n.requestClose(c))},n.handleOverlayOnClick=function(c){n.shouldClose===null&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(c):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(c){!n.props.shouldCloseOnOverlayClick&&c.target==n.overlay&&c.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(c){return n.ownerHandlesClose()&&n.props.onRequestClose(c)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(c,P){var R=(typeof P>"u"?"undefined":a(P))==="object"?P:{base:C[c],afterOpen:C[c]+"--after-open",beforeClose:C[c]+"--before-close"},E=R.base;return n.state.afterOpen&&(E=E+" "+R.afterOpen),n.state.beforeClose&&(E=E+" "+R.beforeClose),typeof P=="string"&&P?E+" "+P:E},n.attributesFromObject=function(c,P){return Object.keys(P).reduce(function(R,E){return R[c+"-"+E]=P[E],R},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return l(u,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(n,c){this.props.isOpen&&!n.isOpen?this.open():!this.props.isOpen&&n.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!c.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var n=this.props,c=n.appElement,P=n.ariaHideApp,R=n.htmlOpenClassName,E=n.bodyOpenClassName,K=n.parentSelector,Q=K&&K().ownerDocument||document;E&&M.add(Q.body,E),R&&M.add(Q.getElementsByTagName("html")[0],R),P&&(re+=1,v.hide(c)),z.default.register(this)}},{key:"render",value:function(){var n=this.props,c=n.id,P=n.className,R=n.overlayClassName,E=n.defaultStyles,K=n.children,Q=P?{}:E.content,le=R?{}:E.overlay;if(this.shouldBeClosed())return null;var je={ref:this.setOverlayRef,className:this.buildClassName("overlay",R),style:r({},le,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Me=r({id:c,ref:this.setContentRef,style:r({},Q,this.props.style.content),className:this.buildClassName("content",P),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),i=this.props.contentElement(Me,K);return this.props.overlayElement(je,i)}}]),u}(d.Component);V.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},V.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(D.default),s.default.instanceOf(U.SafeHTMLCollection),s.default.instanceOf(U.SafeNodeList),s.default.arrayOf(s.default.instanceOf(D.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=V,e.exports=t.default})(Re,Re.exports);var hn=Re.exports;function Je(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Ze(e){function t(r){var a=this.constructor.getDerivedStateFromProps(e,r);return a??null}this.setState(t.bind(this))}function et(e,t){try{var r=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,a)}finally{this.props=r,this.state=a}}Je.__suppressDeprecationWarning=!0;Ze.__suppressDeprecationWarning=!0;et.__suppressDeprecationWarning=!0;function vn(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,a=null,l=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?l="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(l="UNSAFE_componentWillUpdate"),r!==null||a!==null||l!==null){var d=e.displayName||e.name,_=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+d+" uses "+_+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+(l!==null?`
  `+l:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Je,t.componentWillReceiveProps=Ze),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=et;var s=t.componentDidUpdate;t.componentDidUpdate=function(p,O,m){var y=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:m;s.call(this,p,O,y)}}return e}const yn=Object.freeze(Object.defineProperty({__proto__:null,polyfill:vn},Symbol.toStringTag,{value:"Module"})),gn=it(yn);Object.defineProperty(se,"__esModule",{value:!0});se.bodyOpenClassName=se.portalClassName=void 0;var We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bn=function(){function e(t,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),tt=x,Ne=xe(tt),xn=ct,Se=xe(xn),On=Ke,f=xe(On),wn=hn,He=xe(wn),Cn=H,_n=Sn(Cn),ee=q,$e=xe(ee),Nn=gn;function Sn(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function xe(e){return e&&e.__esModule?e:{default:e}}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function jn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Mn=se.portalClassName="ReactModalPortal",Pn=se.bodyOpenClassName="ReactModal__Body--open",oe=ee.canUseDOM&&Se.default.createPortal!==void 0,ze=function(t){return document.createElement(t)},Ve=function(){return oe?Se.default.createPortal:Se.default.unstable_renderSubtreeIntoContainer};function Ce(e){return e()}var Oe=function(e){jn(t,e);function t(){var r,a,l,d;En(this,t);for(var _=arguments.length,s=Array(_),N=0;N<_;N++)s[N]=arguments[N];return d=(a=(l=Be(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this].concat(s))),l),l.removePortal=function(){!oe&&Se.default.unmountComponentAtNode(l.node);var p=Ce(l.props.parentSelector);p&&p.contains(l.node)?p.removeChild(l.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},l.portalRef=function(p){l.portal=p},l.renderPortal=function(p){var O=Ve(),m=O(l,Ne.default.createElement(He.default,We({defaultStyles:t.defaultStyles},p)),l.node);l.portalRef(m)},a),Be(l,d)}return bn(t,[{key:"componentDidMount",value:function(){if(ee.canUseDOM){oe||(this.node=ze("div")),this.node.className=this.props.portalClassName;var a=Ce(this.props.parentSelector);a.appendChild(this.node),!oe&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(a){var l=Ce(a.parentSelector),d=Ce(this.props.parentSelector);return{prevParent:l,nextParent:d}}},{key:"componentDidUpdate",value:function(a,l,d){if(ee.canUseDOM){var _=this.props,s=_.isOpen,N=_.portalClassName;a.portalClassName!==N&&(this.node.className=N);var p=d.prevParent,O=d.nextParent;O!==p&&(p.removeChild(this.node),O.appendChild(this.node)),!(!a.isOpen&&!s)&&!oe&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!ee.canUseDOM||!this.node||!this.portal)){var a=this.portal.state,l=Date.now(),d=a.isOpen&&this.props.closeTimeoutMS&&(a.closesAt||l+this.props.closeTimeoutMS);d?(a.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,d-l)):this.removePortal()}}},{key:"render",value:function(){if(!ee.canUseDOM||!oe)return null;!this.node&&oe&&(this.node=ze("div"));var a=Ve();return a(Ne.default.createElement(He.default,We({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(a){_n.setElement(a)}}]),t}(tt.Component);Oe.propTypes={isOpen:f.default.bool.isRequired,style:f.default.shape({content:f.default.object,overlay:f.default.object}),portalClassName:f.default.string,bodyOpenClassName:f.default.string,htmlOpenClassName:f.default.string,className:f.default.oneOfType([f.default.string,f.default.shape({base:f.default.string.isRequired,afterOpen:f.default.string.isRequired,beforeClose:f.default.string.isRequired})]),overlayClassName:f.default.oneOfType([f.default.string,f.default.shape({base:f.default.string.isRequired,afterOpen:f.default.string.isRequired,beforeClose:f.default.string.isRequired})]),appElement:f.default.oneOfType([f.default.instanceOf($e.default),f.default.instanceOf(ee.SafeHTMLCollection),f.default.instanceOf(ee.SafeNodeList),f.default.arrayOf(f.default.instanceOf($e.default))]),onAfterOpen:f.default.func,onRequestClose:f.default.func,closeTimeoutMS:f.default.number,ariaHideApp:f.default.bool,shouldFocusAfterRender:f.default.bool,shouldCloseOnOverlayClick:f.default.bool,shouldReturnFocusAfterClose:f.default.bool,preventScroll:f.default.bool,parentSelector:f.default.func,aria:f.default.object,data:f.default.object,role:f.default.string,contentLabel:f.default.string,shouldCloseOnEsc:f.default.bool,overlayRef:f.default.func,contentRef:f.default.func,id:f.default.string,overlayElement:f.default.func,contentElement:f.default.func};Oe.defaultProps={isOpen:!1,portalClassName:Mn,bodyOpenClassName:Pn,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,r){return Ne.default.createElement("div",t,r)},contentElement:function(t,r){return Ne.default.createElement("div",t,r)}};Oe.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Nn.polyfill)(Oe);se.default=Oe;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=se,a=l(r);function l(d){return d&&d.__esModule?d:{default:d}}t.default=a.default,e.exports=t.default})(Pe,Pe.exports);var Rn=Pe.exports;const nt=ut(Rn);function rt({isConfirmModalOpen:e,closeConfirmModal:t,handleConfirmUpdate:r,selectedOffer:a}){return o.jsx(he,{children:e&&o.jsx(nt,{isOpen:e,onRequestClose:t,className:"flex items-center justify-center",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",ariaHideApp:!1,children:o.jsxs(ie.div,{className:"bg-white p-8 rounded-lg shadow-lg max-w-sm w-full",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},children:[o.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Confirm Update"}),o.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Are you sure you want to update the offer to"," ",o.jsx("span",{className:"font-semibold text-blue-600",children:a.offerName||"to be removed"}),"?"]}),o.jsxs("div",{className:"flex justify-end",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded mr-2",children:"Cancel"}),o.jsx("button",{onClick:()=>r(),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded",children:"Confirm"})]})]})})})}rt.propTypes={isConfirmModalOpen:g.bool.isRequired,closeConfirmModal:g.func.isRequired,handleConfirmUpdate:g.func.isRequired,selectedOffer:g.shape({offerName:g.string})};function ot({isEditModalOpen:e,closeEditModal:t,modalVariants:r,product:a,onSave:l}){return o.jsx(he,{children:e&&o.jsx(nt,{isOpen:e,onRequestClose:t,className:"flex items-center justify-center",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",ariaHideApp:!1,children:o.jsxs(ie.div,{className:"bg-white p-5 rounded-lg shadow-lg",variants:r,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.2,ease:"easeInOut"},children:[o.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:["Edit - ",a.name]}),o.jsxs("form",{onSubmit:d=>{d.preventDefault();const _={...a,id:a._id,name:d.target.name.value,price:Number(d.target.price.value),description:d.target.description.value};l(_),t()},children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),o.jsx("input",{type:"text",name:"name",defaultValue:a.name,className:"border border-gray-300 rounded px-3 py-2 w-full",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price"}),o.jsx("input",{type:"number",name:"price",defaultValue:a.price,className:"border border-gray-300 rounded px-3 py-2 w-full",required:!0})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{name:"description",defaultValue:a.description,className:"border border-gray-300 rounded px-3 py-2 w-full",required:!0})]}),o.jsxs("div",{className:"flex justify-end",children:[o.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded mr-2",children:"Cancel"}),o.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded",children:"Save Changes"})]})]})]})})})}ot.propTypes={isEditModalOpen:g.bool.isRequired,closeEditModal:g.func.isRequired,modalVariants:g.object.isRequired,product:g.shape({_id:g.string.isRequired,name:g.string.isRequired,price:g.number.isRequired,description:g.string.isRequired}).isRequired,onSave:g.func.isRequired};const at=({product:e,onDelete:t,onToggleList:r,onImageChange:a,onUpdateOffer:l,offers:d,onSave:_})=>{var X,ne;const[s,N]=x.useState(!0),[p,O]=x.useState(!1),[m,y]=x.useState(!1),[v,w]=x.useState({productId:null,offerId:null,offerName:null}),M=(C,L,G)=>{w({productId:C,offerId:L,offerName:G}),y(!0)},U=()=>{y(!1),w({productId:null,offerId:null,offerName:null})},D=async()=>{v!=null&&v.productId&&(v==null?void 0:v.offerId)!==void 0&&await l(v.productId,v.offerId,d),U()},B=()=>{r(e._id,!e.isActive)},z=()=>{t(e._id,e.name)},F=()=>{O(!0)},Y=()=>{O(!1)},te={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1},exit:{opacity:0,scale:.9}};return o.jsxs("div",{className:"bg-white w-full shadow-lg rounded-3xl hover:shadow-2xl hover:scale-[1.02] transition-all duration-200 p-4 sm:p-6 flex flex-col sm:flex-row items-start sm:items-center gap-4 sm:gap-8 relative",children:[o.jsxs("div",{className:"relative flex flex-col items-start w-full sm:w-auto",children:[o.jsxs("div",{className:"relative w-full sm:w-48 h-48",children:[s&&o.jsx("div",{className:"absolute inset-0 flex justify-center items-center bg-gray-100 rounded-lg",children:o.jsx(_t,{color:"green",size:30})}),o.jsx("img",{src:e.image||"https://via.placeholder.com/150",alt:e.name,className:`w-full sm:w-48 h-48 object-cover rounded-lg transition-opacity ${s?"opacity-0":"opacity-100"}`,onLoad:()=>N(!1)}),o.jsx("button",{onClick:()=>{const C=document.createElement("input");C.type="file",C.accept="image/*",C.onchange=L=>a(L,e),C.click()},className:"absolute bottom-2 right-2 bg-gray-800 text-white text-xs sm:text-sm px-2 py-1.5 rounded shadow hover:bg-gray-700",children:"Change Image"})]}),o.jsx("h3",{className:"text-lg font-bold text-gray-800 mt-4",children:e.name}),o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description})]}),o.jsxs("div",{className:"flex-1 w-full",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-md font-semibold",children:["Price: ₹",e.price]}),o.jsxs("p",{className:`text-sm mt-1 ${e.offers?"text-green-600":"text-gray-400"}`,children:["Offer:"," ",e.offers?`${e.offers.discountAmount}% Off on Min of ${e.offers.requiredQuantity} Quantity`:"No offers"]}),e.customizable&&((X=e.customizations)==null?void 0:X.length)>0&&o.jsxs("div",{className:"text-sm text-gray-600 mt-2",children:[o.jsx("p",{className:"font-medium",children:"Customizations:"}),o.jsx("ul",{className:"mt-1 space-y-1",children:e.customizations.map(C=>o.jsxs("li",{className:"ml-4 list-disc",children:[o.jsxs("span",{className:"font-medium",children:[C.fieldName,":"]})," ",C.options.map((L,G)=>o.jsxs("span",{children:[L.name," (₹",L.price,")",G!==C.options.length-1?", ":""]},L._id))]},C._id))})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[o.jsx("button",{className:`py-1.5 sm:py-2 px-3 sm:px-4 rounded text-white text-sm sm:text-base font-semibold ${e.isActive?"bg-gray-500 hover:bg-gray-600":"bg-green-500 hover:bg-green-600"}`,onClick:B,children:e.isActive?"Unlist":"List"}),o.jsx("button",{className:"py-1.5 sm:py-2 px-3 sm:px-4 bg-red-500 hover:bg-red-600 text-white text-sm sm:text-base font-semibold rounded",onClick:z,children:"Delete"}),o.jsx("button",{className:"py-1.5 sm:py-2 px-3 sm:px-4 bg-blue-500 hover:bg-blue-600 text-white text-sm sm:text-base font-semibold rounded",onClick:F,children:"Edit Product"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-0 w-full sm:w-auto mt-2 sm:mt-0",children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 sm:mr-2",children:"Offer:"}),o.jsxs("select",{className:"w-full sm:w-auto border border-gray-300 rounded px-2 sm:px-3 py-1.5 sm:py-2 text-sm",onChange:C=>M(e._id,C.target.value,C.target.options[C.target.selectedIndex].text),value:((ne=e.offers)==null?void 0:ne._id)||"",children:[o.jsx("option",{value:"",children:"No Offer"}),d.map(C=>o.jsx("option",{value:C._id,children:C.offerName},C._id))]})]})]})]}),o.jsx(ot,{isEditModalOpen:p,closeEditModal:Y,modalVariants:te,product:e,onSave:_}),o.jsx(rt,{isConfirmModalOpen:m,closeConfirmModal:U,handleConfirmUpdate:D,selectedOffer:v})]})};at.propTypes={product:g.shape({_id:g.string.isRequired,name:g.string.isRequired,description:g.string,price:g.number.isRequired,image:g.string,isActive:g.bool.isRequired,offers:g.shape({_id:g.string,offerName:g.string,discountAmount:g.number,requiredQuantity:g.number}),customizable:g.bool,customizations:g.array}).isRequired,onDelete:g.func.isRequired,onToggleList:g.func.isRequired,onImageChange:g.func.isRequired,onUpdateOffer:g.func.isRequired,offers:g.array.isRequired,onSave:g.func};const Fn=()=>{const e=dt(),[t,r]=x.useState([]),[a,l]=x.useState([]),[d,_]=x.useState(""),[s,N]=x.useState("name"),[p,O]=x.useState(1),[m,y]=x.useState(!1),[v,w]=x.useState(!1),[M,U]=x.useState(""),[D,B]=x.useState(!1),[z,F]=x.useState(null),[Y,te]=x.useState(null),[X,ne]=x.useState(!1),C=x.useRef(null),L=4,G=x.useCallback(async()=>{try{w(!0);const i=await ft();l(i.data.offers)}catch(i){console.error("Error fetching offers:",i),$.error("Failed to fetch offers. Please try again.")}finally{w(!1)}},[]),re=x.useCallback(async()=>{try{w(!0);const i=await pt();r(i.data.data)}catch(i){console.error("Error fetching products:",i),U("Failed to load products. Please try again.")}finally{w(!1)}},[]);x.useEffect(()=>{G(),re()},[G,re]);const V=x.useMemo(()=>t.filter(i=>{const b=i.name.toLowerCase().includes(d.toLowerCase());return s==="listed"?b&&i.isActive:s==="unlisted"?b&&!i.isActive:b}).sort((i,b)=>s==="price"?i.price-b.price:s==="name"?i.name.localeCompare(b.name):0),[t,d,s]),h=x.useMemo(()=>{const i=(p-1)*L;return V.slice(i,i+L)},[V,p]),u=x.useMemo(()=>Math.ceil(V.length/L),[V]),S=x.useCallback(i=>{_(i.target.value),O(1)},[]),n=x.useCallback(i=>{N(i),y(!1)},[]),c=x.useCallback(i=>{O(i)},[]),P=async(i,b)=>{try{await ht(i,b),r(A=>A.map(j=>j._id===i?{...j,isActive:b}:j)),$.success(`Product ${b?"listed":"unlisted"} successfully!`)}catch(A){console.error("Error toggling product status:",A),$.error("Failed to update product status. Please try again.")}},R=async(i,b)=>{if((await xt.fire({title:`Do you want to Remove <br><b>"${b}"</b><br> from the menu`,text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await vt(i),r(j=>j.filter(J=>J._id!==i)),$.success(`${b} deleted successfully!`)}catch(j){console.error("Error deleting product:",j),$.error(`Failed to delete ${b}. Please try again.`)}},E=async i=>{try{const b={id:i._id,name:i.name,price:i.price,description:i.description,image:i.image},A=await yt(b);r(j=>{const J=j.findIndex(we=>we._id===i._id);if(J===-1)return j;const pe=[...j];return pe[J]={...j[J],...A.data.updatedProduct},pe}),$.success("Product Updated Successfully!")}catch(b){console.log(b),$.error("Failed to update product!")}},K=async(i,b)=>{try{await gt({productId:i,offerId:b}),r(A=>A.map(j=>{var J,pe,we;return j._id===i?{...j,offers:b?{_id:b,offerName:(J=a.find(me=>me._id===b))==null?void 0:J.offerName,discountAmount:(pe=a.find(me=>me._id===b))==null?void 0:pe.discountAmount,requiredQuantity:(we=a.find(me=>me._id===b))==null?void 0:we.requiredQuantity}:null}:j})),$.success("Product Offer Updated Successfully!")}catch(A){console.log(A),$.error("Failed to update product offer.")}},Q=(i,b)=>{const A=i.target.files[0];if(A){const j=new FileReader;j.onloadend=()=>{te(j.result),F(b),B(!0)},j.readAsDataURL(A)}},le=async()=>{if(C.current&&z)try{ne(!0);const i=C.current.cropper.getCroppedCanvas().toDataURL(),b=await wt(i),A={...z,image:b.secure_url};await E(A),B(!1),F(null),te(null)}catch(i){console.error("Error updating image:",i),$.error("Failed to update image. Please try again.")}finally{ne(!1)}},je=()=>{B(!1),F(null),te(null)},Me={initial:{opacity:0,x:"5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"-5%"}};return o.jsxs("div",{className:"container mx-auto p-4",children:[o.jsx(mt,{position:"top-right"}),o.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4 sm:mb-6 text-center",children:"Menu"}),o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center px-4 sm:px-6 mb-6 gap-4",children:[o.jsxs("div",{className:"relative w-full sm:w-1/2",children:[o.jsx("input",{type:"text",placeholder:"Search products...",value:d,onChange:S,className:"border border-gray-300 rounded-full px-4 py-2 w-full shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"}),o.jsx("button",{className:"absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-gray-700",children:o.jsx(bt,{size:20})})]}),o.jsxs("div",{className:"relative w-full sm:w-auto",children:[o.jsxs("button",{onClick:()=>y(!m),className:"w-full sm:w-auto border border-gray-300 rounded px-4 py-2 bg-white flex items-center justify-between sm:justify-start gap-2 focus:outline-none",children:[o.jsxs("span",{className:"flex-1 sm:flex-none",children:["Sort By: ",s==="name"?"Name":s==="price"?"Price":s==="listed"?"Listed Items":"Unlisted Items"]}),o.jsx("span",{className:`transform ${m?"rotate-180":""}`,children:"▼"})]}),o.jsx(he,{children:m&&o.jsx(ie.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-full sm:w-48 bg-white border border-gray-300 rounded-lg shadow-lg z-10",children:o.jsxs("ul",{children:[o.jsx("li",{onClick:()=>n("name"),className:"px-4 py-2 hover:bg-blue-50 cursor-pointer",children:"By Name"}),o.jsx("li",{onClick:()=>n("price"),className:"px-4 py-2 hover:bg-blue-50 cursor-pointer",children:"By Price"}),o.jsx("li",{onClick:()=>n("listed"),className:"px-4 py-2 hover:bg-blue-50 cursor-pointer",children:"Listed Items"}),o.jsx("li",{onClick:()=>n("unlisted"),className:"px-4 py-2 hover:bg-blue-50 cursor-pointer",children:"Unlisted Items"})]})})})]})]}),v?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]}):M?o.jsx("div",{className:"text-center py-8 text-red-500",children:M}):V.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-semibold",children:"No products found!"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Try adjusting your search or add new products."}),o.jsx("button",{onClick:()=>e("/vendor/add-items"),className:"mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Add a Product"})]}):o.jsxs(o.Fragment,{children:[o.jsx(he,{mode:"wait",children:o.jsx(ie.div,{initial:"initial",animate:"animate",exit:"exit",variants:Me,transition:{duration:.3},className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 px-2 sm:px-6",children:h.map(i=>o.jsx(ie.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},children:o.jsx(at,{product:i,onSave:E,onDelete:R,onToggleList:P,onUpdateOffer:K,offers:a,onImageChange:Q})},i._id))},p)}),u>1&&o.jsxs("div",{className:"flex justify-center items-center gap-2 mt-6 px-4",children:[o.jsx("button",{onClick:()=>c(p-1),disabled:p===1,className:`px-3 py-1 rounded ${p===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:"Previous"}),Array.from({length:u},(i,b)=>b+1).map(i=>o.jsx("button",{onClick:()=>c(i),className:`px-3 py-1 rounded ${p===i?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:i},i)),o.jsx("button",{onClick:()=>c(p+1),disabled:p===u,className:`px-3 py-1 rounded ${p===u?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:"Next"})]})]}),o.jsx(he,{children:D&&o.jsx(ie.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Crop Image"}),o.jsx(Ot,{ref:C,src:Y,style:{height:400,width:"100%"},aspectRatio:1,guides:!0}),o.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[o.jsx("button",{onClick:je,disabled:X,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),o.jsx("button",{onClick:le,disabled:X,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:X?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Updating..."})]}):"Update Image"})]})]})})})]})};export{Fn as default};
